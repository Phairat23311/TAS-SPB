<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å - TAS-SPB</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f8fafc; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        /* ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß */
        .header-bar { width: 100%; max-width: 600px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .user-info { font-weight: bold; color: #334155; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
        .logout-btn { background: #fee2e2; color: #ef4444; border: 1px solid #fca5a5; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-weight: bold; transition: all 0.2s; }
        .logout-btn:hover { background: #ef4444; color: white; }

        /* Grid Layout */
        .menu-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 15px; 
            width: 100%; 
            max-width: 600px; 
        }

        /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏°‡∏ô‡∏π */
        .menu-card {
            background: white; border-radius: 20px; padding: 20px 10px;
            text-align: center; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none; color: inherit;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 140px;
        }
        .menu-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        .emoji-icon { font-size: 3rem; margin-bottom: 10px; }
        .menu-title { font-size: 1rem; font-weight: bold; color: #1e293b; }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏õ‡∏∏‡πà‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏© */
        .full-width { grid-column: span 2; background: linear-gradient(135deg, #4f46e5, #4338ca); color: white; height: auto; padding: 30px; }
        .full-width .menu-title { color: white; font-size: 1.3rem; }
        
        .btn-process { background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; }
        .btn-process .menu-title { color: white; }

        .btn-db { border: 2px solid #e0e7ff; background: #f1f5f9; }
        .btn-db .menu-title { color: #475569; }

    </style>
    
    <script src="supabase.js"></script>
    <script src="sweetalert2.js"></script>
    <script src="config.js"></script> </head>
<body>

    <div class="header-bar">
        <div class="user-info">
            <span>üë§</span> <span id="userName">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
        </div>
        <button class="logout-btn" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>

    <div class="menu-grid">
        <a href="attendance.html" class="menu-card full-width">
            <span class="emoji-icon">üïí</span>
            <span class="menu-title">‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</span>
        </a>

        <a href="process.html" class="menu-card btn-process">
            <span class="emoji-icon">‚ö°</span>
            <span class="menu-title">‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
        </a>

        <a href="db.html" class="menu-card btn-db">
            <span class="emoji-icon">üóÑÔ∏è</span>
            <span class="menu-title">‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡∏•‡∏≤</span>
        </a>

        <a href="leave.html" class="menu-card">
            <span class="emoji-icon">üìù</span>
            <span class="menu-title">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏≤</span>
        </a>

        <a href="report.html" class="menu-card">
            <span class="emoji-icon">üìä</span>
            <span class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</span>
        </a>

        <a href="settings.html" class="menu-card">
            <span class="emoji-icon">‚öôÔ∏è</span>
            <span class="menu-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</span>
        </a>
    </div>

    <script>
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (Level 1) ‡∏ú‡πà‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏•‡∏≤‡∏á
        const user = checkAuth(); 
        
        if(user) {
            document.getElementById('userName').innerText = user.name;
        }
    </script>
</body>
</html>
